(this.webpackJsonptrello=this.webpackJsonptrello||[]).push([[0],{19:function(e,a,t){e.exports=t(31)},24:function(e,a,t){},30:function(e,a,t){},31:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(16),s=t.n(r),c=t(5),i=(t(24),t(9)),o=t(10),d=function(){return fetch("./api/board.json").then((function(e){return e.json()}))},m=function(e){var a=function(){e.handleAction({action:"move-card-up",cardId:e.card.id,listId:e.listId})},t=function(){e.handleAction({action:"move-card-down",cardId:e.card.id,listId:e.listId})};return n.a.createElement(c.b,{className:"edit",to:"/edit/".concat(e.card.id)},n.a.createElement("div",{draggable:!0,onDragStart:function(a){e.handleDragStart({cardId:e.card.id,listId:e.listId,target:a.target}),console.log("drag starting...")},onDragEnter:e.dragging?function(a){e.handleDragEnter({cardId:e.card.id,listId:e.listId,target:a.target})}:null,className:" js-card app-card m-1 mb-2 p-2 bg-white rounded-sm app-cursor-pointer shadow-sm",title:"Abrir la tarjeta"},e.card.tags.map((function(e){return n.a.createElement("span",{key:e,className:"badge badge-secondary bg-success mr-1"},e)})),n.a.createElement("div",null,n.a.createElement("h3",{className:"h6"},e.card.title)),n.a.createElement("div",{className:"text-black-50"},n.a.createElement("small",{className:"pr-2 fas fa-align-left"}),n.a.createElement("small",{className:"far fa-check-square"}),n.a.createElement("small",{title:"Subtareas completadas: 3 de 5"}," 3/5")),n.a.createElement("div",{className:"app-card-btns btn-group-vertical btn-group-sm"},n.a.createElement("button",{onClick:a,type:"button",className:"btn btn-light text-muted border shadow-sm app-card-up-button",title:"Mover esta tarjeta hacia abajo"},n.a.createElement("span",{className:"fas fa-arrow-up"})),n.a.createElement("button",{onClick:t,type:"button",className:"btn btn-light text-muted border shadow-sm app-card-down-button",title:"Mover esta tarjeta hacia arriba"},n.a.createElement("span",{className:"fas fa-arrow-down"})))))},u=function(e){var a=function(a){e.handleAction({action:"modify-list-title",value:a.currentTarget.value,listId:e.list.id})},t=function(){e.handleAction({action:"delete-list",listId:e.list.id})},l=function(){e.handleAction({action:"move-list-left",listId:e.list.id})},r=function(){e.handleAction({action:"move-list-right",listId:e.list.id})},s=function(){console.log(e.list.id),e.handleAction({action:"add-new-card",listId:e.list.id})};return n.a.createElement("div",{className:"app-list show"},n.a.createElement("div",{className:"p-1 rounded-sm bg-primary shadow"},n.a.createElement("form",{className:"app-list-form align-middle p-1 position-relative"},n.a.createElement("input",{className:"app-list-input form-control form-control-sm",placeholder:"Tareas importantes",type:"text",value:e.list.title,title:"Editar el t\xedtulo de la lista",onChange:a}),n.a.createElement("div",{className:"app-list-options"},n.a.createElement("span",{className:"pl-2 pr-2 text-white-50 fas fa-ellipsis-v"}),n.a.createElement("div",{className:"app-list-btns btn-group btn-group-sm"},n.a.createElement("button",{onClick:t,type:"button",className:"btn btn-light text-muted border shadow-sm",title:"Borrar esta tarjeta"},n.a.createElement("span",{className:"fas fa-trash-alt"})),n.a.createElement("button",{onClick:l,type:"button",className:"btn btn-light text-muted border shadow-sm app-list-left-button",title:"Mover esta lista hacia la izquierda"},n.a.createElement("span",{className:"fas fa-arrow-left"})),n.a.createElement("button",{onClick:r,type:"button",className:"btn btn-light text-muted border shadow-sm app-list-right-button",title:"Mover esta lista hacia la derecha"},n.a.createElement("span",{className:"fas fa-arrow-right"}))))),e.list.cards.map((function(a){return n.a.createElement(m,{key:a.id,card:a,handleAction:e.handleAction,handleDragStart:e.handleDragStart,dragging:e.dragging,handleDragEnter:e.handleDragEnter,listId:e.list.id})})),n.a.createElement("button",{onClick:s,type:"button",className:"ml-1 btn btn-primary btn-sm text-white-50",title:"A\xf1adir una nueva tarjeta"},n.a.createElement("span",{className:"fas fa-plus"})," A\xf1adir otra tarjeta")))},p=function(e){console.log(e);var a=function(a){console.log("hola"),e.handleAction({action:"add-new-list"})};return n.a.createElement("main",{className:"app-board d-flex flex-nowrap"},e.list.map((function(a){return n.a.createElement(u,{handleDragStart:e.handleDragStart,key:a.id,list:a,handleAction:e.handleAction,dragging:e.dragging,handleDragEnter:e.handleDragEnter})})),n.a.createElement("div",null,n.a.createElement("button",{onClick:a,type:"button",className:"btn btn-light btn-outline-primary btn-sm mr-5 shadow-sm",title:"A\xf1adir una nueva lista"},n.a.createElement("span",{className:"fas fa-plus"}))))},b=t(6),f=function(e){var a=function(a){e.handleInput(a.currentTarget.value)},t=function(){e.toggleMenu()};return n.a.createElement("header",{className:"app-header bg-primary mb-3 d-flex justify-content-between align-items-center shadow"},n.a.createElement("h1",{className:"app-header-title h3 text-white pl-3 pt-1 mr-4 font-weight-light"},"Gestor de proyectos"),n.a.createElement("form",{className:"app-header-form p-2 d-flex justify-content-end"},n.a.createElement("div",{className:"app-header-input input-group input-group-sm mr-2"},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text bg-white border-right-0 text-primary"},n.a.createElement("span",{className:"fas fa-search"}))),n.a.createElement("input",{onChange:a,type:"text",className:"app-header-search form-control border-left-0",title:"Filtrar las tareas",value:e.filterText}))),n.a.createElement("button",{onClick:t,type:"button",className:"js-menu-btn btn btn-primary btn-sm text-white-50",title:"Abrir el men\xfa"},n.a.createElement("span",{className:"fas fa-columns"}))))},E=function(e){var a=function(a){e.handleAction({action:"modify-card-title",value:a.currentTarget.value,cardId:e.card.id,listId:e.listId})},t=function(a){e.handleAction({action:"modify-card-description",value:a.currentTarget.value,cardId:e.card.id,listId:e.listId})},l=function(){e.handleAction({action:"delete-card",cardId:e.card.id,listId:e.listId})},r=function(e,t){return n.a.createElement("div",{className:"custom-control custom-checkbox mb-2"},n.a.createElement("input",{className:"custom-control-input",type:"checkbox",checked:t,id:"subtask-1",onChange:a}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"subtask-1"},e))};return n.a.createElement("div",{className:"app-edit modal show",tabIndex:"-1"},n.a.createElement("section",{className:"modal-dialog modal-dialog-centered modal-lg"},n.a.createElement("div",{className:"modal-content bg-light shadow border-0"},n.a.createElement("form",null,n.a.createElement("div",{className:"modal-header border-bottom-0"},n.a.createElement("h5",{className:"modal-title d-flex w-100"},n.a.createElement("span",{className:"fas fa-columns mt-3 mr-2 text-muted"}),n.a.createElement("div",{className:"w-100"},n.a.createElement("input",{className:"app-edit-title form-control mb-0 border-0",placeholder:"Filtrar tarjetas",type:"text",value:e.card.title,onChange:a}),n.a.createElement("small",{className:"app-edit-subtitle d-block mt-0 text-muted"},"en la lista ",n.a.createElement("strong",null,"Por hacer")))),n.a.createElement(c.b,{to:"/"},n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},n.a.createElement("span",null,"\xd7")))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-xl-9 col-8"},n.a.createElement("div",{className:"container-fluid mb-4"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-1 pl-0 pr-0"},n.a.createElement("span",{className:"fas fa-align-left text-muted"})),n.a.createElement("div",{className:"col-11 pl-0 pr-0"},n.a.createElement("h6",{className:"h6"},"Descripci\xf3n"),n.a.createElement("textarea",{className:"app-edit-textarea",onChange:t,value:e.card.description})))),n.a.createElement("div",{className:"container-fluid mb-4"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-1 pl-0 pr-0"},n.a.createElement("span",{className:"far fa-check-square text-muted"})),n.a.createElement("div",{className:"col-11 pl-0 pr-0"},n.a.createElement("h6",{className:"h6 mb-3"},"Subtareas: completadas 3 de 5"),n.a.createElement("div",{className:"app-edit-progress progress mb-3"},n.a.createElement("div",{className:"progress-bar",style:{width:"60%"}})),r("Unificar eventos",!0),r("Unificar las clases de la cabecera",!1),r("Unificar las clases de las tarjetas",!1),r("Unificar las funciones de datos",!1),r("Unificar las estilos",!0))))),n.a.createElement("div",{className:"col-xl-3 col-4"},n.a.createElement(n.a.Fragment,null,n.a.createElement("h6",{className:"h6 text-uppercase"},"Etiquetas"),n.a.createElement("div",{className:"mb-4"},n.a.createElement("span",{className:"badge badge-secondary bg-success mr-1"},"JS"),n.a.createElement("span",{className:"badge badge-secondary bg-success mr-1"},"Css"),n.a.createElement("span",{className:"badge badge-secondary bg-success mr-1"},"Html"))),n.a.createElement(n.a.Fragment,null,n.a.createElement("h6",{className:"h6 text-uppercase"},"Acciones"),n.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm mb-2 w-100 text-left"},n.a.createElement("span",{className:"fas fa-copy mr-2"})," Duplicar"),n.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm mb-2 w-100 text-left"},n.a.createElement("span",{className:"fas fa-share-alt mr-2"})," Mover"),n.a.createElement(c.b,{to:"/"},n.a.createElement("button",{onClick:l,type:"button",className:"btn btn-primary btn-sm mb-2 w-100 text-left"},n.a.createElement("span",{className:"fas fa-trash-alt mr-2"})," Borrar"))))))))))},g=function(e){return n.a.createElement("section",{className:e.isMenuOpen?"app-menu show":"app-menu"},n.a.createElement("div",{className:"app-menu-inner bg-light p-2 shadow"},n.a.createElement("header",{className:"d-flex justify-content-between align-items-start mb-4"},n.a.createElement("h2",{className:"h4 font-weight-light"},"Men\xfa"),n.a.createElement("button",{onClick:function(){e.toggleMenu()},type:"button",className:"js-menu-btn close pl-2 pr-2 pb-1"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("main",null,n.a.createElement("h5",{className:"h5"},"Tareas por etiquetas"),n.a.createElement("h6",{className:"h5"},n.a.createElement("span",{className:"badge badge-secondary bg-success"},"JS")),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("small",null,"Unificar funcionalidad")),n.a.createElement("li",null,n.a.createElement("small",null,"Pintar el DOM")),n.a.createElement("li",null,n.a.createElement("small",null,"Escuchar eventos")),n.a.createElement("li",null,n.a.createElement("small",null,"Manipular datos"))),n.a.createElement("h6",{className:"h5"},n.a.createElement("span",{className:"badge badge-secondary bg-success"},"Css")),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("small",null,"Manipular datos")),n.a.createElement("li",null,n.a.createElement("small",null,"Guardar en el local storage")),n.a.createElement("li",null,n.a.createElement("small",null,"Obtener datos del API"))),n.a.createElement("h6",{className:"h5"},n.a.createElement("span",{className:"badge badge-secondary bg-success"},"Html")),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("small",null,"Unificar funcionalidad")),n.a.createElement("li",null,n.a.createElement("small",null,"Pintar el DOM")),n.a.createElement("li",null,n.a.createElement("small",null,"Escuchar eventos")),n.a.createElement("li",null,n.a.createElement("small",null,"Manipular datos")),n.a.createElement("li",null,n.a.createElement("small",null,"Guardar en el local storage")),n.a.createElement("li",null,n.a.createElement("small",null,"Obtener datos del API"))))))},h=function(){var e=localStorage.getItem("data");return JSON.parse(e)},v=function(e){localStorage.setItem("data",JSON.stringify(e))},N=function(){return null!==localStorage.getItem("data")};t(30);var I=function(){var e=Object(l.useState)({}),a=Object(o.a)(e,2),t=a[0],r=a[1],s=Object(l.useState)(!1),c=Object(o.a)(s,2),m=c[0],u=c[1],I=Object(l.useState)(""),w=Object(o.a)(I,2),y=w[0],x=w[1],j=Object(l.useRef)(),A=Object(l.useRef)(),k=Object(l.useState)(!1),O=Object(o.a)(k,2),S=O[0],C=O[1];Object(l.useEffect)((function(){if(N()){var e=h();r(e)}else d().then(r)}),[]),Object(l.useEffect)((function(){v(t)}));var D=function(){u(!m),console.log(m)},M=function e(){console.log("ending drag.."),C(!1),A.current.removeEventListener("dragend",e),j.current=null,A.current=null},T=function(e){if("add-new-list"===e.action)t.board.list.push({id:"list-"+U(),title:"",cards:[]}),console.log(t.board.list);else if("add-new-card"===e.action){var a=J(e.listId);t.board.list[a].cards.push({id:"card-"+U(),title:"Nueva tarea",description:"",tags:[]})}else if("delete-list"===e.action){var l=J(e.listId);t.board.list.splice(l,1)}else if("modify-list-title"===e.action){var n=J(e.listId);t.board.list[n].title=e.value}else if("delete-card"===e.action){var s=J(e.listId),c=t.board.list[s].cards.findIndex((function(a){return a.id===e.cardId}));t.board.list[s].cards.splice(c,1)}else if("move-list-left"===e.action){var o=J(e.listId),d=t.board.list.splice(o,1);t.board.list.splice(o-1,0,d[0])}else if("move-list-right"===e.action){var m=J(e.listId),u=t.board.list.splice(m,1);t.board.list.splice(m+1,0,u[0])}else if("move-card-up"===e.action){var p=J(e.listId),b=t.board.list[p].cards.findIndex((function(a){return a.id===e.cardId})),f=t.board.list[p].cards.splice(b,1);t.board.list[p].cards.splice(b-1,0,f[0])}else if("move-card-down"===e.action){var E=J(e.listId),g=t.board.list[E].cards.findIndex((function(a){return a.id===e.cardId})),h=t.board.list[E].cards.splice(g,1);t.board.list[E].cards.splice(g+1,0,h[0])}else if("modify-card-title"===e.action){var v=J(e.listId),N=t.board.list[v].cards.findIndex((function(a){return a.id===e.cardId}));t.board.list[v].cards[N].title=e.value}else if("modify-card-description"===e.action){var I=J(e.listId),w=t.board.list[I].cards.findIndex((function(a){return a.id===e.cardId}));t.board.list[I].cards[w].description=e.value,console.log(t.board.list[I].cards[w].description)}r(Object(i.a)({},t))},U=function(){return Date.now()},J=function(e){return t.board.list.findIndex((function(a){return a.id===e}))};return n.a.createElement("div",{className:"App"},n.a.createElement(f,{filterText:y,toggleMenu:D,handleInput:function(e){x(e)}}),n.a.createElement(p,{list:t.board?(console.log(t.board.list),t.board.list.map((function(e){var a=Object(i.a)({},e);return a.cards=a.cards.filter((function(e){return e.title.toUpperCase().includes(y.toUpperCase())})),a}))):[],handleAction:T,handleDragStart:function(e){var a=J(e.listId),l=t.board.list[a].cards.findIndex((function(a){return a.id===e.cardId}));j.current=l,A.current=e.target,A.current.addEventListener("dragend",M),C(!0),console.log(a+"lista"+l+"card")},dragging:S,handleDragEnter:function(e){var a=J(e.listId),l=t.board.list[a].cards.findIndex((function(a){return void 0!==a&&a.id===e.cardId}));console.log("entering drag",a,l);var n=j.current;e.target!==A.current&&(r((function(e){var t=JSON.parse(JSON.stringify(e));return console.log(t.board.list[a].cards[l]),console.log(n),t.board.list[a].cards.splice(l,0,t.board.list[a].cards.splice(n,1)[0]),j.current=l,t})),console.log("TARGET IS NOT THE SAME"))}}),n.a.createElement(g,{isMenuOpen:m,toggleMenu:D}),n.a.createElement(b.c,null,n.a.createElement(b.a,{path:"/edit/:id",render:function(e){for(var a=e.match.params.id,l=0;l<t.board.list.length;l+=1){console.log(t.board);var r=t.board.list[l];console.log(r);var s=r.cards.find((function(e){return e.id===a}));if(console.log(s),void 0!==s)return n.a.createElement(E,{card:s,handleAction:T,listId:r.id})}}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(c.a,null,n.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.da719614.chunk.js.map